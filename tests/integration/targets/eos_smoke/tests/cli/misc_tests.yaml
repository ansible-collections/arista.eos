---
- ansible.builtin.debug:
    msg: "START cli/misc_tests.yaml on connection={{ ansible_connection }}"

# test become and unbecome
- block:
    - name: command with privilege 15 does not require become
      arista.eos.eos_command:
        commands: show running-config
      become: false
      ignore_errors: true
      register: result

    - name: ansible.builtin.assert
      ansible.builtin.assert:
        that:
          - result.failed == false
          - result.stdout is defined

    - name: command that doesn't require become
      arista.eos.eos_command:
        commands: show uptime
      become: false
